<%- include('../layout/header') %>
<link href="./../styles/output.css" rel="stylesheet" />
  <body class="bg-zinc-900 h-screen">
    <!-- Page banner -->
    <div class="bg-gradient-to-r from-red-300 to-red-50 max-[900px]:h-1/3 min-[901px]:h-2/3 flex flex-col justify-center items-center">
      <div class="text-zinc-900 max-[900px]:text-4xl min-[901px]:text-9xl font-bold pb-5"><%= bannerTitle %></div>
    </div>
    <div id="main" class="flex flex-col max-[900px]:pl-5 max-[900px]:pr-5 max-[900px]:pt-20 min-[901px]:pl-40 min-[901px]:pr-20 min-[901px]:pt-20">
      <div class="text-red-200 max-[900px]:text-3xl min-[901px]:text-7xl font-bold pb-10"><%= header %></div>
      <div class="flex flex-row">
        <div class='flex flex-row text-red-200 max-[900px]:text-xl min-[901px]:text-3xl max-[900px]:w-3/12 min-[901px]:w-1/12 pb-10'>
          Rank
        </div>
        <div class='flex flex-row text-red-200 max-[900px]:text-xl min-[901px]:text-3xl max-[900px]:w-7/12 min-[901px]:w-8/12 pb-10'>
          Title
        </div>
        <div class='flex flex-row text-red-200 max-[900px]:text-xl min-[901px]:text-3xl max-[900px]:w-2/12 min-[901px]:w-3/12 pb-10'>
          Score
        </div>
      </div>
      <% for (let i = (currentPage - 1) * pageMax; i < Math.min(currentPage * pageMax, content.length); i++) { %>
        <div class="flex flex-row">
          <div class='flex flex-row text-red-200 max-[900px]:text-2xl min-[901px]:text-6xl max-[900px]:w-3/12 min-[901px]:w-1/12 pb-10'>
            <%= i + 1 %>
          </div>
          <div class='flex flex-row text-red-200 max-[900px]:text-2xl min-[901px]:text-6xl max-[900px]:w-7/12 min-[901px]:w-8/12 pb-10'>
            <%= content[i].title %>
          </div>
          <div class='flex flex-row text-red-200 max-[900px]:text-2xl min-[901px]:text-6xl max-[900px]:w-2/12 min-[901px]:w-3/12 pb-10'>
            <%= content[i].score %>
          </div>
        </div>
      <% } %>
    </div>
    <!-- pagination component -->
    <div class="w-screen flex flex-row justify-center">
        <div class="flex flex-row justify-evenly pb-32 pt-10 min-[901px]:w-1/4">
            <% for (let i = 0; i < pages; i++) { %>
                <% if (genre) { %>
                    <% if (i + 1 == currentPage) { %>
                        <div class="flex flex-row justify-center outline outline-2 outline-red-200 text-neutral-50 py-3 px-4 rounded-full font-bold"><%= i + 1 %></div>
                    <% } else {%>
                        <a href="/<%= genre %>/<%= i + 1 %>#main" class="flex flex-row justify-center bg-red-200 text-neutral-50 py-3 px-4 rounded-full font-bold"><%= i + 1 %></a>
                    <% } %>
                <% } else {%>
                    <% if (i + 1 == currentPage) { %>
                        <div class="flex flex-row justify-center outline outline-2 outline-red-200 text-neutral-50 py-3 px-4 rounded-full font-bold"><%= i + 1 %></div>
                    <% } else {%>
                        <a href="/popular/<%= i + 1 %>#main" class="flex flex-row justify-center bg-red-200 text-neutral-50 py-3 px-4 rounded-full font-bold"><%= i + 1 %></a>
                    <% } %>
                <% } %>
            <% } %>
          </div>
    </div>
  </body>
</html>
